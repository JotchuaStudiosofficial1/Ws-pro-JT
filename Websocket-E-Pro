#!/bin/bash
clear
pkill -f ws-epro
echo "
â–€â–ˆâ–€ â–ˆâ–€â–€â–„ â–ˆâ–€â–€ â–€â–€â–ˆâ–€â–€ â–ˆâ–€â–€â–ˆ â–ˆâ–‘â–‘ â–ˆâ–€â–€â–ˆ â–ˆâ–€â–€â–„ â–ˆâ–€â–€â–„ â–ˆâ–€â–€â–ˆ 
â–’â–ˆâ–‘ â–ˆâ–‘â–‘â–ˆ â–€â–€â–ˆ â–‘â–‘â–ˆâ–‘â–‘ â–ˆâ–„â–„â–ˆ â–ˆâ–‘â–‘ â–ˆâ–„â–„â–ˆ â–ˆâ–‘â–‘â–ˆ â–ˆâ–‘â–‘â–ˆ â–ˆâ–‘â–‘â–ˆ 
â–„â–ˆâ–„ â–€â–‘â–‘â–€ â–€â–€â–€ â–‘â–‘â–€â–‘â–‘ â–€â–‘â–‘â–€ â–€â–€â–€ â–€â–‘â–‘â–€ â–€â–‘â–‘â–€ â–€â–€â–€â–‘ â–€â–€â–€â–€ 

â–’â–ˆâ–€â–€â–ˆ â–ˆâ–‘â–‘â–ˆ â–€â–€â–ˆâ–€â–€ â–ˆâ–‘â–‘â–ˆ â–ˆâ–€â–€â–ˆ â–ˆâ–€â–€â–„ 
â–’â–ˆâ–„â–„â–ˆ â–ˆâ–„â–„â–ˆ â–‘â–‘â–ˆâ–‘â–‘ â–ˆâ–€â–€â–ˆ â–ˆâ–‘â–‘â–ˆ â–ˆâ–‘â–‘â–ˆ 
â–’â–ˆâ–‘â–‘â–‘ â–„â–„â–„â–ˆ â–‘â–‘â–€â–‘â–‘ â–€â–‘â–‘â–€ â–€â–€â–€â–€ â–€â–‘â–‘â–€" | lolcat
sleep 1
cd

#Install ws-epro
wget -q --show-progress --load-cookies /tmp/cookies.txt "https://docs.google.com/uc?export=download&confirm=$(wget --quiet --save-cookies /tmp/cookies.txt --keep-session-cookies --no-check-certificate 'https://docs.google.com/uc?export=download&id=1IbwfNpKpa1JzvXsDT-WgNpp5nWrklisG' -O- | sed -rn 's/.*confirm=([0-9A-Za-z_]+).*/\1\n/p')&id=1IbwfNpKpa1JzvXsDT-WgNpp5nWrklisG" -O /usr/local/bin/ws-epro && rm -rf /tmp/cookies.txt
chmod +x /usr/local/bin/ws-epro

#ws-epro service
wget -q --show-progress --load-cookies /tmp/cookies.txt "https://docs.google.com/uc?export=download&confirm=$(wget --quiet --save-cookies /tmp/cookies.txt --keep-session-cookies --no-check-certificate 'https://docs.google.com/uc?export=download&id=10hGKYNZUMHdr4y-ZxMr0wKQpj9zSQRkZ' -O- | sed -rn 's/.*confirm=([0-9A-Za-z_]+).*/\1\n/p')&id=10hGKYNZUMHdr4y-ZxMr0wKQpj9zSQRkZ" -O /etc/systemd/system/ws-epro.service && rm -rf /tmp/cookies.txt
chmod +x /etc/systemd/system/ws-epro.service

#ws-epro port
wget -q --show-progress --load-cookies /tmp/cookies.txt "https://docs.google.com/uc?export=download&confirm=$(wget --quiet --save-cookies /tmp/cookies.txt --keep-session-cookies --no-check-certificate 'https://docs.google.com/uc?export=download&id=1h9QvOnXScplGTnfpbJ7KJDn4CDkwUKWa' -O- | sed -rn 's/.*confirm=([0-9A-Za-z_]+).*/\1\n/p')&id=1h9QvOnXScplGTnfpbJ7KJDn4CDkwUKWa" -O /usr/bin/ws-port && rm -rf /tmp/cookies.txt
chmod +x /usr/bin/ws-port

#seting port
clear
echo Seleccione Los Puertos!
sleep 1
read -p "Puerto Local (22,110,443)  : " openssh
read -p "Puerto Phyton (80) : " wsopenssh
WS_DIR=/usr/local/etc/ws-epro
if [ -d "$WS_DIR" ]; then # if it exists,delete it.
    rm -rf "$WS_DIR"
fi
mkdir "$WS_DIR"
echo "Procesing to server..."
sleep 0.5
echo "# verbose level 0=info, 1=verbose, 2=very verbose" >> /usr/local/etc/ws-epro/config.yml
echo "verbose: 0" >> /usr/local/etc/ws-epro/config.yml
echo "listen:"  >> /usr/local/etc/ws-epro/config.yml

#seting port
echo "##openssh" >> /usr/local/etc/ws-epro/config.yml
echo "- target_host: 127.0.0.1" >> /usr/local/etc/ws-epro/config.yml
echo "##portopenssh" >> /usr/local/etc/ws-epro/config.yml
echo "  target_port: $openssh" >> /usr/local/etc/ws-epro/config.yml
echo "##wsopenssh" >> /usr/local/etc/ws-epro/config.yml
echo "  listen_port: $wsopenssh" >> /usr/local/etc/ws-epro/config.yml

chmod +x /usr/local/etc/ws-epro/config.yml

#Enable & Start service
systemctl enable ws-epro
systemctl start ws-epro

echo "Configuration to server..."
sleep 0.3
clear
echo "
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
â–ˆâ–„â”€â–ˆâ–€â–€â–€â–ˆâ”€â–„â–ˆâ”€â–„â–„â–„â–„â–ˆâ–€â–€â–€â–€â–€â–ˆâ–ˆâ–„â”€â–„â–„â”€â–ˆâ–„â”€â–„â–„â–€â–ˆâ”€â–„â–„â”€â–ˆ
â–ˆâ–ˆâ”€â–ˆâ”€â–ˆâ”€â–ˆâ”€â–ˆâ–ˆâ–„â–„â–„â–„â”€â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”€â–„â–„â–„â–ˆâ–ˆâ”€â–„â”€â–„â–ˆâ”€â–ˆâ–ˆâ”€â–ˆ
â–€â–€â–„â–„â–„â–€â–„â–„â–„â–€â–€â–„â–„â–„â–„â–„â–€â–€â–€â–€â–€â–€â–€â–€â–„â–„â–„â–€â–€â–€â–„â–„â–€â–„â–„â–€â–„â–„â–„â–„â–€" | lolcat
LP='\033[1;35m'
PVerde='\033[1;35m'
PAzul='\033[1;35m'
PRojo='\033[1;35m'
PNaranja='\033[1;35m'
NC='\033[0m' # No Color
echo -e "${LP}"

echo    "ðŸ’™SCRIPT WEBSOCKET CLOUDFLARE SIN PRO E-PROðŸ’™"
printf "${NC}${NC}"
echo    "Creditos A : @NETCOLVIP"
printf "${PAzul}$INC}"
echo    "â•â•â•â•ðŸ’™ðŸ§‘ðŸ½â€ðŸ’»EDITADO POR JotchuaStudiosOfficialðŸ§‘ðŸ½â€ðŸ’»ðŸ’™â•â•â•â•"
printf "${NC}${NC}"
echo    "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
printf "${PVerde}${NC}"
echo    "   Puerto Local : $openssh"
echo    "   Puerto Phyton: $wsopenssh"
printf "${NC}${INC}"
echo    "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo    ""
printf "${PRojo}${NC}"
echo    "Probado en ubuntu 20 :D"
echo    "Para Volver A La Script SSH-PROYECT-MX"
echo    " Ingresar (h o menu)"
echo -e "${NC}"
echo.    "â €â €â €â €â €â €â €â¢€â£€â£¤â£¤â ¤â ¶â ¶â ›â ›â ‰â¢¹â¡‡â €â €â¢¸â €â €â €â €â €â €â €â¢°â£€â €â €â €â €â €â ˆâ ¹â£†â¢±â¡„â €â €â €â €â €â €â ‰â¢»â¡„â €â ˜â¢·â¡€â €â €â €â €â €â£¿â €â €â €â €â €
â ¤â „â ’â ’â ‚â ‹â ‰â ‰â¡Ÿâ ‰â €â¢°â ƒâ €â €â €â €â£¿â£‡â €â €â¢¸â¡‡â €â €â €â €â €â €â¢¸â ˜â£†â €â €â €â €â €â£„â¢¹â¡„â£‡â €â â£¦â €â €â €â €â €â¢³â¡€â €â ˆâ¢³â¡€â €â €â €â €â£¿â €â €â €â €â €
â €â €â €â €â €â €â €â €â¡‡â €â €â¡â €â €â €â €â €â£¿â£½â €â €â €â¡‡â¢¸â €â €â €â €â €â¢¸â¡†â£¿â¡€â €â €â €â €â ¸â£§â¢»â£¼â €â €â¢»â£‡â €â €â €â ¹â£†â¢¿â¡€â €â ˆâ¢·â €â €â €â €â£¿â¢€â €â €â €â €
â €â €â €â €â €â €â €â ¸â¡‡â €â €â¡‡â €â €â €â €â¢ â¢¿â£¿â¡„â €â €â¡‡â¢¹â¡„â €â €â €â €â €â£¿â¡Ÿâ£§â €â €â €â €â €â¢¹â£·â¢¿â €â €â¢¸â ¸â£§â €â €â €â¢¹â£Žâ¢§â €â €â ˆâ£§â €â €â €â €â €â ™â¡†â €â €
â €â €â €â €â €â €â €â¢€â¡‡â €â¢ â¡‡â €â €â €â €â£¼â €â ¹â£§â €â €â¢»â¢¸â£‡â €â €â €â €â €â¢¹â¡‡â¢»â¡„â €â €â €â €â €â£¿â£¿â¡„â €â£¼â ¶â£¿â¡„â£ â£„â¡€â£¿â£¾â¡†â €â €â ¸â£‡â €â €â €â €â €â ¸â¡€â €
â €â €â €â €â €â €â¢°â£Ÿâ¢·â €â¢¸â¡‡â €â €â €â €â£¿â €â €â ¸â£‡â €â¢¸â£¼â£¿â €â €â €â €â €â£„â£·â£¾â£¿â¡¿â Ÿâ ›â ›â ³â£¿â¡˜â£·â¢€â¡¿â €â €â ·â ‡â¢¹â¡â¢¿â¡œâ£¿â €â €â €â¢»â¡€â €â €â €â €â €â¢ â ´
â €â €â €â €â €â €â£¼â£¿â¡¸â¡‡â ¸â¡‡â €â €â €â €â¢»â¡€â €â €â ¹â£¦â¢€â£¿â£¿â¡†â €â €â£€â£€â£¿â£¿â¡â â €â €â €â£€â£°â£€â£½â£»â¡¼â â €â €â €â €â ˆâ£·â ˆâ ‡â¢»â¡‡â €â €â ˆâ£‡â €â €â €â €â €â €â €
â €â €â €â €â €â €â¡¿â »â¢·â£½â¡€â¢§â €â €â €â €â¢¸â¡¿â ¿â —â ‚â£¿â¢®â£¿â¡€â¢¿â£´â žâ ‹â ‰â ‰â ‰â ›â  â¢¶â£²â¡¿â ¿â ›â£â£ˆâ£¬â£­â£„â£€â£€â €â €â €â¢¸â¡‡â €â ˆâ ƒâ €â €â €â¢»â¡„â €â €â €â €â €â €
â €â €â €â €â €â¡€â¡‡â£ â£´â¢·â£·â£¸â¡€â €â£€â£€â¡˜â¡‡â €â €â €â ˜â£¯â ›â¢·â¡Œâ¢¡â£¤â ¤â£¤â£¤â£†â£ â£´â¡¿â¢‹â£¤â£¶â£¿â£¿â£¿â ›â ›â ›â »â ¿â£¿â£¶â£´â €â£¿â €â €â¡„â €â €â €â ˜â£·â €â €â €â €â €â €
â €â €â €â €â¢¸â €â¡¿â ›â â €â ‰â »â£·â ‹â ‰â ‰â ‰â¢¿â¡€â €â €â €â¢¿â£†â¡€â ™â ‹â €â €â €â €â ‰â£¹â¢â£´â£¿â£¿â¡¿â Ÿâ â£¼â €â €â €â €â €â €â ¹â£¿â¡Ÿâ£¿â €â¢€â¡‡â €â €â €â €â¢¹â£§â €â €â €â €â €
â €â €â €â €â ˜â¡†â£¿â¡€â €â €â €â €â£ˆâ£¤â£¤â£¤â£¤â£´â£§â €â €â €â ˆâ¢»â¡‡â €â €â €â €â €â €â €â¢©â£¾â¡¿â¢·â£„â£€â£€â¡´â ƒâ €â €â €â €â €â €â¢ â¡¿â â¢¸â €â¢¸â €â €â£¤â €â €â ˜â£¿â¡†â €â €â €â €
â£„â¡´â ¶â ¶â£¶â£§â¢¿â €â¢€â£´â£¾â£¿â£¿â£·â£¶â£¶â£¶â£¯â£¿â¢·â¡„â €â €â ˜â â €â €â €â €â €â €â €â ¸â Ÿâ €â €â ˆâ ˜â â£€â£€â£¤â ¤â ¤â ¤â¢„â£ â žâ£â €â¢¸â €â£¿â¡€â €â£»â €â €â €â£¿â£·â €â €â €â €
â ‰â €â €â ˆâ£¿â£¿â£¿â£·â£¿â£¿â Ÿâ ‰â ‰â¢¿â¡›â »â ¿â ¿â£Ÿâ Ÿâ â €â €â €â €â €â €â €â €â €â €â €â €â €â €â£€â£ â£¶â¡¿â£·â –â »â Ÿâ ›â Ÿâ¢‹â¡µâ¢‹â¡˜â¡³â¢¸â£´â£Ÿâ¡‡â €â¡Ÿâ €â €â €â¢¸â£¿â£‡â €â €â €
â €â €â €â¢°â£¿â¡¿â£¿â£¿â£¿â¡…â €â €â €â €â ™â ·â ´â ¶â ‹â €â €â €â¢˜â£‡â €â €â €â €â €â €â €â €â €â €â£ â£¿â£·â¡¶â¢Ÿâ£ â Ÿâ¢ƒâ¡ â¢‚â¡´â¢‹â£´â£¯â žâ£¡â£¾â â¢¿â¡‡â¢ â¡‡â €â €â €â €â¡â¢»â¡‡â €â €
â €â €â¢°â ˜â£¿â €â ˜â¢»â£¿â£¥â¡€â €â£€â£ â£¤â£¤â ¤â¢¤â¡¤â „â¢€â¡´â ‹â ™â£†â €â €â €â €â €â €â €â£ â¢žâ¡µâ¡¿â ‹â£ â žâ ƒâ €â¢‰â¡´â ‹â¡°â¢‹â¡¼â££â¢žâ¡±â ‹â €â ˆâ¢¿â£¼â €â¡„â €â €â €â¡‡â €â¢¿â£§â €
â €â €â¢¸â¡€â¢»â¡†â¡€â €â¢›â¡¯â¢©â£¿â Ÿâ£‰â¡½â ƒâ£ â¢žâ¡”â£ â¢â¡¤â €â €â ˆâ ‚â €â €â €â €â¢€â œâ ‘â¡‹â ˆâ €â šâ â â €â£ â žâ €â ˜â£±â ›â Šâ ¡â¡¿â¢°â €â €â €â£°â¡‡â €â¡‡â €â €â €â¡ƒâ €â ¸â£‡â£†
â €â €â ˜â£§â ¸â£¿â¡‡â €â ©â¢¤â¡¾â¢£â£¤â¡¿â¢¥â¡¾â£¡â¢žâ¡´â ƒâ ˆâ €â €â €â €â €â €â €â €â â â ˆâ €â €â €â €â €â €â €â ˜â â ¤â£ â žâ â €â €â â ·â Ÿâ €â €â£ â â €â£°â¡â €â €â €â €â €â €â¢»â¡œ
â €â €â €â£¿â¢°â¡¹â£¿â¡„â €â¡¼â£µâ£¿â ‹â£°â Ÿâ¡´â£«â Šâ €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢€â¡¼â â €â €â €â €â €â €â €â¢€â£´â ‹â£ â¢¾â¡¿â¡‡â €â €â €â¢€â €â €â¢¸â£¿
â¡„â €â €â£¿â£¿â£·â£¿â£§â †â €â¡½â ƒâ¡¼â ƒâ¢ˆâ¡½â ƒâ €â €â €â €â €â €â €â €â €â£€â£¤â¡¤â ´â ²â¢¤â£¤â£€â €â €â €â €â €â£ â¡¾â â €â €â €â €â €â €â£€â£´â£¿â µâ ‹â â£¸â ¡â¡‡â €â €â €â ¸â¡€â €â¡¸â¢¿
â¡‡â €â €â¢¹â£¿â£¿â£Ÿâ ¿â£¶â¡Œâ¢ â¡žâ â €â žâ €â €â €â €â €â €â €â €â£ â žâ ‹â£â£ â£¤â£¤â£¶â£¶â£¦â£Œâ¢‰â£·â£¶â£¶â£¿â¡¿â €â €â €â €â €â °â –â ›â ‹â ‰â €â €â €â °â¢¿â €â¡‡â €â €â €â €â â â â €
â£¿â¡€â €â €â¢¿â£»â£¿â£‡â ˆâ ™â ¿â¢¤â£¤â¡„â €â €â €â €â €â£¶â£„â£ â£¾â¢â£´â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â ƒâ €â €â €â €â €â €â €â €â €â €â €â €â €â¢€â£¿â €â£§â €â €â €â¡€â €â ‡â €â €
â ˆâ£·â¡€â €â ˆâ¢·â¡»â£¿â¡†â €â €â €â €â €â£¿â €â €â €â €â €â »â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â ¿â¢¿â£¿â£¿â¡Ÿâ €â €â €â €â €â €â €â €â €â €â €â €â €â €â£¸â£¿â¡‡â£¿â €â €â €â¡†â €â €â „â €
â €â£¿â¡¿â£¤â£€â €â »â£¿â£¿â£„â €â €â €â£„â ¾â¡„â €â €â €â €â €â ¹â£¿â£¿â¡¿â ‹â ˆâ »â£¿â£¿â£¿â Ÿâ ‰â €â €â ˆâ¢¿â¡¿â â €â €â €â €â €â €â¢€â €â €â €â €â €â¢€â£´â£¿â£¿â£¿â£¿â €â €â €â¡‡â €â €â €â¡€
â£ â£¿â¡‡â €â ˆâ “â¢¦â£€â¡™â »â£†â£€â €â ™â¢›â££â¡„â €â €â €â €â €â ¹â£¿â¡‡â €â €â €â¢»â¡¿â â €â €â €â €â °â¢¿â €â €â €â €â €â €â €â €â ˜â ¦â †â €â €â£ â£¾â£¿â£¿â£¿â¡¿â£¿â¡‡â €â €â£‡â €â €â €â¢³
â£¥â£¿â â €â €â£ â£¿â£¿â£¿â£¶â£¶â£¿â£Ÿâ ›â ›â ‰â €â €â €â €â €â €â €â¢»â €â €â €â €â£¾â¡‡â €â €â €â¢€â¢ˆâ£·â¡Ÿâ €â €â €â €â €â €â €â €â €â €â €â£ â£¾â£¿â£¿â£¿â£¿â£¿â¡‡â ˆâ£¿â €â£¤â£¿â¡€â €â €â €
â£¿â¡â €â£ â¡¾â£¿â£¿â£¿â£¿â¡¿â£¿â£»â¡â “â¢¦â£„â €â €â €â €â €â €â €â¡¿â €â €â €â €â¡Ÿâ €â €â €â €â Žâ ‰â¡¼â »â¡„â €â €â €â €â €â €â €â¢€â£ â£¾â£¿â£¿â£¿â£¿â£¿â£¿â£¹â£·â£¶â ˆâ¢£â£¿â¡¾â¢±â£¦â¡€â €
â ˆâ ™â ›â¢¿â£¿â£¶â£·â£¶â£¶â£¶â£„â£½â£¿â €â €â£¿â£·â£¤â¡€â €â €â €â €â£·â €â €â €â¢ â£¯â €â €â €â €â €â£¼â ³â£¶â Ÿâ €â €â €â €â €â£ â£´â£¿â£¿â£¿â£¿â£¿â£€â£½â£¿â£¿â£¿â£¿â£¿â €â¡¾â£¿â£·â£Œâ »â£¿â£¦
â €â €â €â €â ˆâ ™â »â¢¿â£¿â£¿â£¿â£¿â â €â£´â¡¿â£¿â£¿â£¿â£¶â£„â¡€â €â ¹â¡„â €â €â €â ‰â €â €â¢€â£¤â žâ â €â €â €â €â €â¢€â£ â£¾â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¡Ÿâ£¸â£¿â£¿â â£»â£†â ˆâ ‰
â €â €â €â €â €â €â €â €â ˆâ »â¢¿â£§â£¤â£¶â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£·â£„â£³â €â €â €â €â €â£´â¡â €â €â €â €â €â¢€â£ â£´â£¿â ¿â ¿â¢¿â£¿â£¿â£¿â¡¿â ¿â Ÿâ ›â ‰â ‰â â €â €â¢ â£¿â£¿â£¿â †â ‰â ¿â£§â €
â €â €â €â €â €â €â €â €â €â €â €â ˆâ ›â¢¯â¡›â »â ¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£·â¡ â €â €â£¸â¡Ÿâ €â €â €â¢€â£ â¡´â¢Ÿâ£‰â£¤â¡¤â ¶â Ÿâ ›â ‹â â €â €â €â €â €â €â €â €â €â €â£¼â£¿â£¿â¡â „â â „â ™â¢·
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â ™â¢¦â¡€â €â ‰â ›â ›â ‰â ™â ›â ‹â ‰â ³â£Œâ ‰â ˜â£§â£¤â£¶â¡¿â£›â£¿â¡¾â ›â ‹â â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢°â£¿â£¿â¡â â „â â „â €â „
â €â €â €â €â €â¢â €â €â €â €â €â €â €â €â €â €â¢‘â£¶â£„â €â£€â¢€â €â €â €â €â €â¢™â¡‡â €â£¿â¢‹â¡‰â šâ ‹â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â£¾â£¿â£¿â „â €â €â €â „â €â „"
rm -rf install-ws && cat /dev/null > ~/.bash_history && history -c
